---
layout: default
title: Settings
---
<section class="annotate">
	<p>All Pomander settings are exposed through the <code>$env</code> object.</p>
	<pre><code data-language="php">
$env->url('http://ripeworks.com');
$env->url // http://ripeworks.com

$env->super_secret_setting(true);
$env->super_secret_setting // true
	</code></pre>
	<p>You can set and retrieve any known option or even define your own.</p>
</section>
<section>
	<h2>Deploy Settings</h2>
	<ul class="settings">
		<li>
			<code data-language="php">$env->deploy_to('/var/www/html/my_application');</code>
			<p>Specify where your application will be deployed to.</p>
		</li>
		<li>
			<code data-language="php">$env->app('my-app.com'); $env->app(array('node-1.my-app.com','node-2.my-app.com'));</code>
			<p>String or Array of application hosts to deploy to.</p>
		</li>
		<li>
			<code data-language="php">$env->repository('');</code>
			<p>Location of the repository used for deploying.</p>
		</li>
		<li>
			<code data-language="php">$env->revision(); $env->branch();</code>
			<p>Specify which branch/commit to deploy.</p>
		</li>
		<li>
			<code data-language="php">$env->scm('git');</code>
			<p>SCM to use. Git and Svn are currently supported. Defaults to git</p>
		</li>
		<li>
			<code data-language="php">$env->releases(true);</code>
			<p>Use current/releases/shared structure. (true/false/number of releases to keep) Default: false</p>
		</li>
		<li>
			<code data-language="php">$env->remote_cache(true);</code>
			<p>Cache repository for faster deploys. (true/false) Default: true when releases are set</p>
		</li>
	</ul>
</section>
<section>
	<h2>SSH Settings</h2>
	<ul class="settings">
		<li>
			<code data-language="php">$env->user('deploy');</code>
			<p>Specify which user to connect as. Default: user running pom</p>
		</li>
		<li>
			<code data-language="php">$env->port(22);</code>
			<p>Which port to use when connecting to target. Default: 22</p>
		</li>
		<li>
			<code data-language="php">$env->password();</code>
			<p>Password used when connecting to target.</p>
		</li>
		<li>
			<code data-language="php">$env->key_path("~/.ssh/id_rsa"); $env->key_password();</code>
			<p>Specify path to deploy key (private), and optionally password to authenticate key. Default: ~/.ssh/id_rsa (Only supports RSA keys currently)</p>
		</li>
	</ul>
</section>
<section>
	<h2>Database Settings</h2>
	<ul class="settings">
		<li>
			<code data-language="php">$env->adapter('mysql');</code>
			<p>Which type of database you are using. MySQL is currently supported.</p>
		</li>
		<li>
			<code data-language="php">$env->backup(true);</code>
			<p>Create a full database backup before any merge commands.</p>
		</li>
		<li>
			<code data-language="php">$env->db();</code>
			<p>String or Array of database hosts to deploy to.</p>
		</li>
	</ul>
</section>
<section>
	<h2>Advanced Settings</h2>
	<ul class="settings">
		<li>
			<code data-language="php">$env->umask('002');</code>
			<p>Which umask to use on remote hosts.</p>
		</li>
		<li>
			<code data-language="php">$env->rsync_cmd('rsync');</code>
			<p>Command used to sync files and folders. Default is rsync.</p>
		</li>
		<li>
			<code data-language="php">$env->rsync_flags('-avuzPO --quiet');</code>
			<p>Flags used to sync files and folders. Defaults to the above.</p>
		</li>
		<li>
			<code data-language="php">$env->db_backup_flags("--lock-tables=FALSE --skip-add-drop-table | sed -e 's|INSERT INTO|REPLACE INTO|' -e 's|CREATE TABLE|CREATE TABLE IF NOT EXISTS|'");</code>
			<p>Additional flags used when creating a database backup used for merging. By default backups will skip drop tables and use replace into as to not destroy existing data during a merge. This is useful if you are staging new data that isn't in production.</p>
		</li>
		<li>
			<code data-language="php">$env->db_swap_url(true);</code>
			<p>If you are merging a database backup and the <code>$env-&gt;url</code> of the two environments differ, Pomander will attempt to replace all occurances of the urls. Set this option to <code>false</code> to prevent Pomander from doing that.</p>
		</li>
	</ul>
</section>
<section>
	<p class="disclaimer">If there are any settings in need that are preventing you from using Pomander, please submit an <a href="https://github.com/tamagokun/pomander/issues">Issue</a>.</p>
</section>
